Method 1:
The time complexity should T(n) = n x C(n, n) + (n-1) x C(n, n-1) + ... + 1 x C(n, 1) = n x 2^(n-1). Based on binomial theorem
class Solution(object):
    def removeInvalidParentheses(self, s):
        """
        :type s: str
        :rtype: List[str]
        """
        if not s:
            return [""]
        
        from collections import deque
        q = deque([s])
        ans = []
        visited = set()
        visited.add(s)
        flag = False
        while q:
            size = len(q)
            for i in xrange(size):
                ss = q.popleft()
                if self.isValid(ss):
                    ans.append(ss)
                    flag = True
                else:
                    for j in xrange(len(ss)):
                        new_s = ss[:j] + ss[j+1:]
                        if new_s not in visited:
                            q.append(new_s)
                            visited.add(new_s)
            if flag:
                break
        if flag:
            return ans
        return [""]
        
    def isValid(self, s):
        cnt = 0
        for c in s:
            if cnt < 0:
                return False
            if c == "(":
                cnt += 1
            elif c == ")":
                cnt -= 1
        return cnt == 0
Method 2:
class Solution(object):
    def removeInvalidParentheses(self, s):
        """
        :type s: str
        :rtype: List[str]
        """
        if not s:
            return [""]
        def helper(s):
            results = [s]
            count = {"(": 0, ")": 0}
            removed = 0
            for i, c in enumerate(s):
                if c == ")" and count["("] == count[")"]:
                    result = set()
                    while results:
                        ss = results.pop()
                        for j in xrange(i + 1 - removed):
                            if ss[j] == ")":
                                news = ss[:j] + ss[j + 1:]
                                result.add(news)
                    results = list(result)
                    removed += 1
                else:
                    if c in count:
                        count[c] += 1
            return results
        
        def reverse_p(ss):
            res = ""
        
            for c in ss[::-1]:
                if c == ")":
                    res += "("
                elif c == "(":
                    res += ")"
                else:
                    res += c
            return resx
        
        ans = helper(s)
        res = []
        for ss in ans:
            a = reverse_p(ss)
            res += helper(a)
        res = list(set(res))
        for i in xrange(len(res)):
            res[i] = reverse_p(res[i])
        return res
        
